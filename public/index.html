<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CCCO M405 Booking System</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1>CCCO M405 Booking System</h1>
  
  <div id="calendar"></div>
  
  <h2>Add a new appointment</h2>
  <form id="booking-form">
    <label>Name：</label>
    <input type="text" id="name" required><br>
    <label>Start Time：</label>
    <input type="datetime-local" id="start" required><br>
    <label>End Time：</label>
    <input type="datetime-local" id="end" required><br>
    <button type="submit">Submit appointment</button>
  </form>
  <p id="message"></p>

<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
  <script src="script.js"></script>
  <script>
    // 動態設置時間範圍（今天 09:00 至未來 30 天 17:45）
    function setTimeConstraints() {
      const today = new Date();
      const minDate = today.toISOString().split('T')[0];
      const maxDate = new Date(today);
      maxDate.setDate(today.getDate() + 30); // 未來 30 天
      const maxDateStr = maxDate.toISOString().split('T')[0];
      
      const startInput = document.getElementById('start');
      const endInput = document.getElementById('end');
      
      startInput.min = `${minDate}T09:00`;
      startInput.max = `${maxDateStr}T17:45`;
      endInput.min = `${minDate}T09:00`;
      endInput.max = `${maxDateStr}T17:45`;
    }
    // 當頁面載入時設置
    document.addEventListener('DOMContentLoaded', setTimeConstraints);
  </script>
